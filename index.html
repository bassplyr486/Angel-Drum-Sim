<!DOCTYPE html>
<html>
    <head>
        <!-- Page Metadata -->
        <meta charset='utf-8'>
        <title>Angel's Website</title>
        <link rel="icon" href="./icon.png" type="image/x-icon">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

        <!-- Example JavaScript -->
        <script defer>
            console.log("Angel is kind of cute ngl...");

            window.addEventListener("DOMContentLoaded", function(){
                console.log("And I'd kind of like to hold his paw...");
            });

            window.addEventListener("keypress", function(event){
                console.log(event);
                if (event.key == "h") {
                    window.play("da_clap");
                }

                if (event.key == "t") {
                    window.play("hi_hat");
                }

                if (event.key == " ") {
                    window.play("kick");
                }

                if (event.key == "u") {
                    window.play("tom");
                }

                if (event.key == "i") {
                    window.play("crash");
                }
            });

            setTimeout(function() {
                console.log("What's worse is that he is orange!")
            }, 1000);

            window.play = function(id) {
                document.getElementById(id).currentTime = 0;
                document.getElementById(id).play();
                document.getElementById(id + "_visualizer").style.backgroundColor="red";
            }

            window.addEventListener("DOMContentLoaded", function(){
                document.getElementById("da_clap").addEventListener("ended", () => {
                    document.getElementById("da_clap" + "_visualizer").style.backgroundColor="white"; 
                });

                document.getElementById("hi_hat").addEventListener("ended", () => {
                    document.getElementById("hi_hat" + "_visualizer").style.backgroundColor="white"; 
                });

                document.getElementById("kick").addEventListener("ended", () => {
                    document.getElementById("kick" + "_visualizer").style.backgroundColor="white"; 
                });

                document.getElementById("tom").addEventListener("ended", () => {
                    document.getElementById("tom" + "_visualizer").style.backgroundColor="white"; 
                });

                document.getElementById("crash").addEventListener("ended", () => {
                    document.getElementById("crash" + "_visualizer").style.backgroundColor="white"; 
                });
            });
            
            window.addEventListener("DOMContentLoaded", ()=> {
                document.getElementById("type").addEventListener("input", ()=> {
                    window.updatePreset();
                });

                window.updatePreset();
            });

            window.changePreset = function(clapPath, hatPath, kickPath, tomPath, crashPath) {
                document.getElementById("da_clap").querySelector("source").src=clapPath;
                document.getElementById("da_clap").load();
                document.getElementById("hi_hat").querySelector("source").src=hatPath;
                document.getElementById("hi_hat").load();
                document.getElementById("kick").querySelector("source").src=kickPath;
                document.getElementById("kick").load();
                document.getElementById("tom").querySelector("source").src=tomPath;
                document.getElementById("tom").load();
                document.getElementById("crash").querySelector("source").src=crashPath;
                document.getElementById("crash").load();
            }

            window.updatePreset = function() {
                var type = document.getElementById("type").value;
                console.log(type);
                if (type=="Acoustic") { 
                    window.changePreset("./99DrumSamples2/99 Drum Samples II/Snare - OG.ogg", "./99DrumSamples2/99 Drum Samples II/Hats - Metal.ogg", "./99DrumSamples2/99 Drum Samples II/Kick - 1985.ogg", "./99DrumSamples2/99 Drum Samples II/Perc - Tomtom.ogg", "./99DrumSamples/Samples/crash-acoustic.ogg");
                }

                if (type=="Techno") {
                    window.changePreset("./99DrumSamples/Samples/clap-808.ogg", "./99DrumSamples/Samples/hihat-808.ogg", "./99DrumSamples/Samples/kick-808.ogg", "./99DrumSamples/Samples/tom-808.ogg", "./99DrumSamples/Samples/crash-808.ogg");
                }

                if(type=="WorldTest") {
                    window.changePreset("./99DrumSamples/Samples/clap-analog.ogg", "./99DrumSamples/Samples/hihat-dist01.ogg", "./99DrumSamples/Samples/kick-slapback.ogg", "./99DrumSamples/Samples/perc-weirdo.ogg", "./99DrumSamples/Samples/cowbell-808.ogg");
                }
            }

        </script>

    </head>
    <body style="background-color: rgb(200, 100, 000); color: black; font-size: large">
        
        <!-- Header Element -->
        <h1>Angel & Lavvy's Dum Sim :3c</h1>

        <hr>

        <!-- Paragraph Element -->
        <p>clap: <b>h</b> <br>
            hi-hat: <b>t</b><br>
            kick: <b>space</b> <br>
            tom: <b>u</b> <br>
            crash: <b>i</b>
        </p>

        <hr>

        <select id="type">
            <option value="Techno">Techno</option>
            <option value="Acoustic">Acoustic</option>
            <option value="WorldTest">WorldTest</option>
        </select>

        <hr>

        <!-- Preformatted Element -->
        <audio id="da_clap" controls>
            <source src="./99DrumSamples/Samples/clap-808.ogg" type="audio/ogg">
        </audio>

        <audio id="hi_hat" controls>
            <source src="./99DrumSamples/Samples/hihat-808.ogg" type="audio/ogg">
        </audio>

        <audio id="kick" controls>
            <source src="./99DrumSamples/Samples/kick-808.ogg" type="audio/ogg">
        </audio>

        <audio id="tom" controls>
            <source src="./99DrumSamples/Samples/tom-808.ogg" type="audio/ogg">
        </audio>

        <audio id="crash" controls>
            <source src="./99DrumSamples/Samples/crash-808.ogg" type="audio/ogg">
        </audio>

        <hr>

        <button onclick="" id="da_clap_visualizer">Clap</button>

        <button onclick="" id="hi_hat_visualizer">Hi Hat</button>

        <button onclick="" id="kick_visualizer">Kick</button>

        <button onclick="" id="tom_visualizer">Tom</button>

        <button onclick="" id="crash_visualizer">Crash</button>
        <br><br>

        <img src="./AngelDance.gif">
    </body>
</html>
